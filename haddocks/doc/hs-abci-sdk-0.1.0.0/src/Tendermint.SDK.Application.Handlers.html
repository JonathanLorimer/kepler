<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Tendermint.SDK.Application.Handlers</span><span>
</span><span id="line-2"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier">Handler</span></a></span><span>
</span><span id="line-3"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#HandlersContext"><span class="hs-identifier">HandlersContext</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#makeApp"><span class="hs-identifier">makeApp</span></a></span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">from</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">to</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&amp;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.~)</span></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>                                                           </span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Crypto.Hash</span></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Digest</span></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Crypto.Hash.Algorithms</span></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">SHA256</span></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>                               </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteArray.Base64String</span></span><span>              </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Base64</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Default.Class</span></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Default</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.String.Conversions</span></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">cs</span></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Network.ABCI.Server.App</span></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">App</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>                                                           </span><span class="annot"><span class="hs-identifier">MessageType</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>                                                           </span><span class="annot"><span class="hs-identifier">Request</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>                                                           </span><span class="annot"><span class="hs-identifier">Response</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>                                                           </span><span class="annot"><span class="hs-identifier">transformApp</span></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Network.ABCI.Types.Messages.Request</span></span><span>      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Req</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Network.ABCI.Types.Messages.Response</span></span><span>     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Resp</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Polysemy</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Polysemy.Error</span></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">catch</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Module.html"><span class="hs-identifier">Tendermint.SDK.Application.Module</span></a></span><span>        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.html"><span class="hs-identifier">Tendermint.SDK.BaseApp</span></a></span><span>                   </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BA</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Block.html"><span class="hs-identifier">Tendermint.SDK.BaseApp.Block</span></a></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Block.html#EndBlockResult"><span class="hs-identifier">EndBlockResult</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>                                                           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Block.html#evalBeginBlockHandler"><span class="hs-identifier">evalBeginBlockHandler</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>                                                           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Block.html#evalEndBlockHandler"><span class="hs-identifier">evalEndBlockHandler</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html"><span class="hs-identifier">Tendermint.SDK.BaseApp.Errors</span></a></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html#SDKError"><span class="hs-identifier">SDKError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>                                                           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html#queryAppError"><span class="hs-identifier">queryAppError</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>                                                           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html#throwSDKError"><span class="hs-identifier">throwSDKError</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>                                                           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html#txResultAppError"><span class="hs-identifier">txResultAppError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Query.html"><span class="hs-identifier">Tendermint.SDK.BaseApp.Query</span></a></span><span>             </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Q</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.html"><span class="hs-identifier">Tendermint.SDK.BaseApp.Store</span></a></span><span>             </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Store</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.html"><span class="hs-identifier">Tendermint.SDK.BaseApp.Transaction</span></a></span><span>       </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Cache.html"><span class="hs-identifier">Tendermint.SDK.BaseApp.Transaction.Cache</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Cache.html#writeCache"><span class="hs-identifier">writeCache</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Tendermint.SDK.Crypto.html"><span class="hs-identifier">Tendermint.SDK.Crypto</span></a></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Crypto.html#RecoverableSignatureSchema"><span class="hs-identifier">RecoverableSignatureSchema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>                                                           </span><span class="annot"><a href="Tendermint.SDK.Crypto.html#SignatureSchema"><span class="hs-identifier">SignatureSchema</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Tendermint.SDK.Types.Transaction.html"><span class="hs-identifier">Tendermint.SDK.Types.Transaction</span></a></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Types.Transaction.html#parseTx"><span class="hs-identifier">parseTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Tendermint.SDK.Types.TxResult.html"><span class="hs-identifier">Tendermint.SDK.Types.TxResult</span></a></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Types.TxResult.html#checkTxTxResult"><span class="hs-identifier">checkTxTxResult</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>                                                           </span><span class="annot"><a href="Tendermint.SDK.Types.TxResult.html#deliverTxTxResult"><span class="hs-identifier">deliverTxTxResult</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">type</span><span> </span><span id="Handler"><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-var">Handler</span></a></span></span><span> </span><span id="local-6989586621679578281"><span class="annot"><a href="#local-6989586621679578281"><span class="hs-identifier hs-type">mt</span></a></span></span><span> </span><span id="local-6989586621679578280"><span class="annot"><a href="#local-6989586621679578280"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Request</span></span><span> </span><span class="annot"><a href="#local-6989586621679578281"><span class="hs-identifier hs-type">mt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="annot"><a href="#local-6989586621679578280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Response</span></span><span> </span><span class="annot"><a href="#local-6989586621679578281"><span class="hs-identifier hs-type">mt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">data</span><span> </span><span id="Handlers"><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handlers"><span class="hs-identifier hs-var">Handlers</span></a></span></span><span> </span><span id="local-6989586621679578524"><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Handlers"><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handlers"><span class="hs-identifier hs-var">Handlers</span></a></span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="info"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTInfo r
</span><a href="Tendermint.SDK.Application.Handlers.html#info"><span class="hs-identifier hs-var hs-var">info</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTInfo</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="setOption"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTSetOption r
</span><a href="Tendermint.SDK.Application.Handlers.html#setOption"><span class="hs-identifier hs-var hs-var">setOption</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTSetOption</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="initChain"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTInitChain r
</span><a href="Tendermint.SDK.Application.Handlers.html#initChain"><span class="hs-identifier hs-var hs-var">initChain</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTInitChain</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="query"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTQuery r
</span><a href="Tendermint.SDK.Application.Handlers.html#query"><span class="hs-identifier hs-var hs-var">query</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTQuery</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="checkTx"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTCheckTx r
</span><a href="Tendermint.SDK.Application.Handlers.html#checkTx"><span class="hs-identifier hs-var hs-var">checkTx</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTCheckTx</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="beginBlock"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTBeginBlock r
</span><a href="Tendermint.SDK.Application.Handlers.html#beginBlock"><span class="hs-identifier hs-var hs-var">beginBlock</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTBeginBlock</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="deliverTx"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTDeliverTx r
</span><a href="Tendermint.SDK.Application.Handlers.html#deliverTx"><span class="hs-identifier hs-var hs-var">deliverTx</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTDeliverTx</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="endBlock"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTEndBlock r
</span><a href="Tendermint.SDK.Application.Handlers.html#endBlock"><span class="hs-identifier hs-var hs-var">endBlock</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTEndBlock</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="commit"><span class="annot"><span class="annottext">Handlers r -&gt; Handler 'MTCommit r
</span><a href="Tendermint.SDK.Application.Handlers.html#commit"><span class="hs-identifier hs-var hs-var">commit</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTCommit</span></span><span> </span><span class="annot"><a href="#local-6989586621679578524"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#defaultHandlers"><span class="hs-identifier hs-type">defaultHandlers</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679578319"><span class="annot"><a href="#local-6989586621679578319"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handlers"><span class="hs-identifier hs-type">Handlers</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578319"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-59"></span><span id="defaultHandlers"><span class="annot"><span class="annottext">defaultHandlers :: Handlers r
</span><a href="Tendermint.SDK.Application.Handlers.html#defaultHandlers"><span class="hs-identifier hs-var hs-var">defaultHandlers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handlers :: forall (r :: EffectRow).
Handler 'MTInfo r
-&gt; Handler 'MTSetOption r
-&gt; Handler 'MTInitChain r
-&gt; Handler 'MTQuery r
-&gt; Handler 'MTCheckTx r
-&gt; Handler 'MTBeginBlock r
-&gt; Handler 'MTDeliverTx r
-&gt; Handler 'MTEndBlock r
-&gt; Handler 'MTCommit r
-&gt; Handlers r
</span><a href="Tendermint.SDK.Application.Handlers.html#Handlers"><span class="hs-identifier hs-type hs-type">Handlers</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">info :: Handler 'MTInfo r
</span><a href="Tendermint.SDK.Application.Handlers.html#info"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTInfo r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">setOption :: Handler 'MTSetOption r
</span><a href="Tendermint.SDK.Application.Handlers.html#setOption"><span class="hs-identifier hs-var">setOption</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTSetOption r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">initChain :: Handler 'MTInitChain r
</span><a href="Tendermint.SDK.Application.Handlers.html#initChain"><span class="hs-identifier hs-var">initChain</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTInitChain r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">query :: Handler 'MTQuery r
</span><a href="Tendermint.SDK.Application.Handlers.html#query"><span class="hs-identifier hs-var">query</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTQuery r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">checkTx :: Handler 'MTCheckTx r
</span><a href="Tendermint.SDK.Application.Handlers.html#checkTx"><span class="hs-identifier hs-var">checkTx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTCheckTx r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">beginBlock :: Handler 'MTBeginBlock r
</span><a href="Tendermint.SDK.Application.Handlers.html#beginBlock"><span class="hs-identifier hs-var">beginBlock</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTBeginBlock r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">deliverTx :: Handler 'MTDeliverTx r
</span><a href="Tendermint.SDK.Application.Handlers.html#deliverTx"><span class="hs-identifier hs-var">deliverTx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTDeliverTx r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">endBlock :: Handler 'MTEndBlock r
</span><a href="Tendermint.SDK.Application.Handlers.html#endBlock"><span class="hs-identifier hs-var">endBlock</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTEndBlock r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">commit :: Handler 'MTCommit r
</span><a href="Tendermint.SDK.Application.Handlers.html#commit"><span class="hs-identifier hs-var">commit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handler 'MTCommit r
forall a (m :: * -&gt; *) b. (Default a, Applicative m) =&gt; b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var">defaultHandler</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>    </span><span id="local-6989586621679578520"><span id="local-6989586621679578521"><span id="local-6989586621679578523"><span class="annot"><a href="#local-6989586621679578267"><span class="hs-identifier hs-type">defaultHandler</span></a></span><span>
</span><span id="line-72"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="#local-6989586621679578523"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-73"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679578521"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-74"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679578520"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-75"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679578521"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578523"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-76"></span><span>    </span><span id="local-6989586621679578267"><span class="annot"><span class="annottext">defaultHandler :: b -&gt; m a
</span><a href="#local-6989586621679578267"><span class="hs-identifier hs-var hs-var">defaultHandler</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; b -&gt; m a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; b -&gt; m a) -&gt; m a -&gt; b -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-keyword">data</span><span> </span><span id="HandlersContext"><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#HandlersContext"><span class="hs-identifier hs-var">HandlersContext</span></a></span></span><span> </span><span id="local-6989586621679578463"><span class="annot"><a href="#local-6989586621679578463"><span class="hs-identifier hs-type">alg</span></a></span></span><span> </span><span id="local-6989586621679578462"><span class="annot"><a href="#local-6989586621679578462"><span class="hs-identifier hs-type">ms</span></a></span></span><span> </span><span id="local-6989586621679578461"><span class="annot"><a href="#local-6989586621679578461"><span class="hs-identifier hs-type">core</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="HandlersContext"><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#HandlersContext"><span class="hs-identifier hs-var">HandlersContext</span></a></span></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="signatureAlgP"><span class="annot"><span class="annottext">HandlersContext alg ms core -&gt; Proxy alg
</span><a href="Tendermint.SDK.Application.Handlers.html#signatureAlgP"><span class="hs-identifier hs-var hs-var">signatureAlgP</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679578463"><span class="hs-identifier hs-type">alg</span></a></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="modules"><span class="annot"><span class="annottext">HandlersContext alg ms core -&gt; ModuleList ms (Effs ms core)
</span><a href="Tendermint.SDK.Application.Handlers.html#modules"><span class="hs-identifier hs-var hs-var">modules</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ModuleList"><span class="hs-identifier hs-type">M.ModuleList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578462"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578462"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578461"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="beginBlocker"><span class="annot"><span class="annottext">HandlersContext alg ms core -&gt; BeginBlock -&gt; Sem (Effs ms core) ()
</span><a href="Tendermint.SDK.Application.Handlers.html#beginBlocker"><span class="hs-identifier hs-var hs-var">beginBlocker</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Req.BeginBlock</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578462"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578461"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="endBlocker"><span class="annot"><span class="annottext">HandlersContext alg ms core
-&gt; EndBlock -&gt; Sem (Effs ms core) EndBlockResult
</span><a href="Tendermint.SDK.Application.Handlers.html#endBlocker"><span class="hs-identifier hs-var hs-var">endBlocker</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Req.EndBlock</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578462"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578461"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Block.html#EndBlockResult"><span class="hs-identifier hs-type">EndBlockResult</span></a></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="anteHandler"><span class="annot"><span class="annottext">HandlersContext alg ms core
-&gt; forall msg a. Endo (RoutingTx msg -&gt; Sem (Effs ms core) a)
</span><a href="Tendermint.SDK.Application.Handlers.html#anteHandler"><span class="hs-identifier hs-var hs-var">anteHandler</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.AnteHandler.html#AnteHandler"><span class="hs-identifier hs-type">BA.AnteHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578462"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578461"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="compileToCore"><span class="annot"><span class="annottext">HandlersContext alg ms core
-&gt; forall a. Sem (BaseAppEffs core) a -&gt; Sem core a
</span><a href="Tendermint.SDK.Application.Handlers.html#compileToCore"><span class="hs-identifier hs-var hs-var">compileToCore</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679578471"><span class="annot"><a href="#local-6989586621679578471"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578461"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679578471"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="annot"><a href="#local-6989586621679578461"><span class="hs-identifier hs-type">core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578471"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- Common function between checkTx and deliverTx</span><span>
</span><span id="line-89"></span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#makeHandlers"><span class="hs-identifier hs-type">makeHandlers</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679578312"><span class="annot"><a href="#local-6989586621679578312"><span class="hs-identifier hs-type">alg</span></a></span></span><span> </span><span id="local-6989586621679578310"><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span></span><span> </span><span id="local-6989586621679578311"><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-91"></span><span>     </span><span class="annot"><a href="Tendermint.SDK.Crypto.html#RecoverableSignatureSchema"><span class="hs-identifier hs-type">RecoverableSignatureSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578312"><span class="hs-identifier hs-type">alg</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Crypto.html#Message"><span class="hs-identifier hs-type">Message</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578312"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Digest</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SHA256</span></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Embed</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ToApplication"><span class="hs-identifier hs-type">M.ToApplication</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Router.html#HasTxRouter"><span class="hs-identifier hs-type">T.HasTxRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationC"><span class="hs-identifier hs-type">M.ApplicationC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#QueryAndMempool"><span class="hs-identifier hs-type">Store.QueryAndMempool</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Router.html#HasTxRouter"><span class="hs-identifier hs-type">T.HasTxRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationC"><span class="hs-identifier hs-type">M.ApplicationC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#QueryAndMempool"><span class="hs-identifier hs-type">Store.QueryAndMempool</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Router.html#HasTxRouter"><span class="hs-identifier hs-type">T.HasTxRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationD"><span class="hs-identifier hs-type">M.ApplicationD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#Consensus"><span class="hs-identifier hs-type">Store.Consensus</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Router.html#HasTxRouter"><span class="hs-identifier hs-type">T.HasTxRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationD"><span class="hs-identifier hs-type">M.ApplicationD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#Consensus"><span class="hs-identifier hs-type">Store.Consensus</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Query.Router.html#HasQueryRouter"><span class="hs-identifier hs-type">Q.HasQueryRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationQ"><span class="hs-identifier hs-type">M.ApplicationQ</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Query.Router.html#HasQueryRouter"><span class="hs-identifier hs-type">Q.HasQueryRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationQ"><span class="hs-identifier hs-type">M.ApplicationQ</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Eval"><span class="hs-identifier hs-type">M.Eval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span>
</span><span id="line-102"></span><span> </span><span class="hs-comment">-- =&gt; M.Effs ms core ~ (BA.AppEffs (M.ModulesEffs ms) core)</span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#HandlersContext"><span class="hs-identifier hs-type">HandlersContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578312"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handlers"><span class="hs-identifier hs-type">Handlers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span id="makeHandlers"><span class="annot"><span class="annottext">makeHandlers :: HandlersContext alg ms core -&gt; Handlers (BaseAppEffs core)
</span><a href="Tendermint.SDK.Application.Handlers.html#makeHandlers"><span class="hs-identifier hs-var hs-var">makeHandlers</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679578251"><span id="local-6989586621679578252"><span id="local-6989586621679578253"><span id="local-6989586621679578254"><span id="local-6989586621679578255"><span id="local-6989586621679578256"><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#HandlersContext"><span class="hs-identifier hs-type">HandlersContext</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span></span></span></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#HandlersContext"><span class="hs-identifier hs-type">HandlersContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578312"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>      </span><span class="annot"><a href="#local-6989586621679578250"><span class="hs-identifier hs-type">cProxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span>
</span><span id="line-109"></span><span>      </span><span id="local-6989586621679578250"><span class="annot"><span class="annottext">cProxy :: Proxy core
</span><a href="#local-6989586621679578250"><span class="hs-identifier hs-var hs-var">cProxy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy core
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span>      </span><span class="annot"><a href="#local-6989586621679578248"><span class="hs-identifier hs-type">rProxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>      </span><span id="local-6989586621679578248"><span class="annot"><span class="annottext">rProxy :: Proxy (BaseAppEffs core)
</span><a href="#local-6989586621679578248"><span class="hs-identifier hs-var hs-var">rProxy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (BaseAppEffs core)
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span>      </span><span class="annot"><a href="#local-6989586621679578247"><span class="hs-identifier hs-type">app</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Application"><span class="hs-identifier hs-type">M.Application</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationC"><span class="hs-identifier hs-type">M.ApplicationC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationD"><span class="hs-identifier hs-type">M.ApplicationD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationQ"><span class="hs-identifier hs-type">M.ApplicationQ</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>               </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Effect.html#TxEffs"><span class="hs-identifier hs-type">T.TxEffs</span></a></span><span> </span><span class="annot"><a href="Tendermint.SDK.Types.Effects.html#%3A%26"><span class="hs-operator hs-type">BA.:&amp;</span></a></span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Query.Effect.html#QueryEffs"><span class="hs-identifier hs-type">Q.QueryEffs</span></a></span><span> </span><span class="annot"><a href="Tendermint.SDK.Types.Effects.html#%3A%26"><span class="hs-operator hs-type">BA.:&amp;</span></a></span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>      </span><span id="local-6989586621679578247"><span class="annot"><span class="annottext">app :: Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (TxEffs :&amp; BaseAppEffs core)
  (QueryEffs :&amp; BaseAppEffs core)
</span><a href="#local-6989586621679578247"><span class="hs-identifier hs-var hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy core
-&gt; AnteHandler (Effs ms core)
-&gt; ModuleList ms (Effs ms core)
-&gt; (BeginBlock -&gt; Sem (Effs ms core) ())
-&gt; (EndBlock -&gt; Sem (Effs ms core) EndBlockResult)
-&gt; Application
     (ApplicationC ms)
     (ApplicationD ms)
     (ApplicationQ ms)
     (TxEffs :&amp; BaseAppEffs core)
     (QueryEffs :&amp; BaseAppEffs core)
forall (ms :: [Component]) (core :: EffectRow).
(Eval ms core, ToApplication ms (Effs ms core),
 HasTxRouter (ApplicationC ms) (Effs ms core) 'QueryAndMempool,
 HasTxRouter (ApplicationD ms) (Effs ms core) 'Consensus,
 HasQueryRouter (ApplicationQ ms) (Effs ms core)) =&gt;
Proxy core
-&gt; AnteHandler (Effs ms core)
-&gt; ModuleList ms (Effs ms core)
-&gt; (BeginBlock -&gt; Sem (Effs ms core) ())
-&gt; (EndBlock -&gt; Sem (Effs ms core) EndBlockResult)
-&gt; Application
     (ApplicationC ms)
     (ApplicationD ms)
     (ApplicationQ ms)
     (TxEffs :&amp; BaseAppEffs core)
     (QueryEffs :&amp; BaseAppEffs core)
</span><a href="Tendermint.SDK.Application.Module.html#makeApplication"><span class="hs-identifier hs-var">M.makeApplication</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy core
</span><a href="#local-6989586621679578250"><span class="hs-identifier hs-var">cProxy</span></a></span><span> </span><span class="annot"><span class="annottext">AnteHandler (Effs ms core)
</span><a href="#local-6989586621679578252"><span class="hs-identifier hs-var">anteHandler</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleList ms (Effs ms core)
</span><a href="#local-6989586621679578255"><span class="hs-identifier hs-var">modules</span></a></span><span> </span><span class="annot"><span class="annottext">BeginBlock -&gt; Sem (Effs ms core) ()
</span><a href="#local-6989586621679578254"><span class="hs-identifier hs-var">beginBlocker</span></a></span><span> </span><span class="annot"><span class="annottext">EndBlock -&gt; Sem (Effs ms core) EndBlockResult
</span><a href="#local-6989586621679578253"><span class="hs-identifier hs-var">endBlocker</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span>      </span><span id="local-6989586621679578245"><span class="annot"><span class="annottext">txParser :: ByteString
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (RoutingTx ByteString)
</span><a href="#local-6989586621679578245"><span class="hs-identifier hs-var hs-var">txParser</span></a></span></span><span> </span><span id="local-6989586621679578244"><span class="annot"><span class="annottext">bs :: ByteString
</span><a href="#local-6989586621679578244"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Proxy alg -&gt; ByteString -&gt; Either Text (Tx alg ByteString)
forall k (alg :: k).
(RecoverableSignatureSchema alg, Message alg ~ Digest SHA256) =&gt;
Proxy alg -&gt; ByteString -&gt; Either Text (Tx alg ByteString)
</span><a href="Tendermint.SDK.Types.Transaction.html#parseTx"><span class="hs-identifier hs-var">parseTx</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy alg
</span><a href="#local-6989586621679578256"><span class="hs-identifier hs-var">signatureAlgP</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679578244"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-119"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679578243"><span class="annot"><span class="annottext">err :: Text
</span><a href="#local-6989586621679578243"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDKError
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (RoutingTx ByteString)
forall (r :: EffectRow) a.
Member (Error AppError) r =&gt;
SDKError -&gt; Sem r a
</span><a href="Tendermint.SDK.BaseApp.Errors.html#throwSDKError"><span class="hs-identifier hs-var">throwSDKError</span></a></span><span> </span><span class="annot"><span class="annottext">(SDKError
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (RoutingTx ByteString))
-&gt; SDKError
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (RoutingTx ByteString)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; SDKError
</span><a href="Tendermint.SDK.BaseApp.Errors.html#ParseError"><span class="hs-identifier hs-var">ParseError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679578243"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-120"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679578241"><span class="annot"><span class="annottext">tx :: Tx alg ByteString
</span><a href="#local-6989586621679578241"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RoutingTx ByteString
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (RoutingTx ByteString)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoutingTx ByteString
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (RoutingTx ByteString))
-&gt; RoutingTx ByteString
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (RoutingTx ByteString)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tx alg ByteString -&gt; RoutingTx ByteString
forall k (alg :: k) msg. Tx alg msg -&gt; RoutingTx msg
</span><a href="Tendermint.SDK.BaseApp.Transaction.Types.html#RoutingTx"><span class="hs-identifier hs-var">T.RoutingTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx alg ByteString
</span><a href="#local-6989586621679578241"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span>      </span><span class="annot"><a href="#local-6989586621679578239"><span class="hs-identifier hs-type">checkServer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Types.html#TransactionApplication"><span class="hs-identifier hs-type">T.TransactionApplication</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>      </span><span id="local-6989586621679578239"><span class="annot"><span class="annottext">checkServer :: TransactionApplication (Sem (BaseAppEffs core))
</span><a href="#local-6989586621679578239"><span class="hs-identifier hs-var hs-var">checkServer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><span class="annottext">Proxy (ApplicationC ms)
-&gt; Proxy
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
-&gt; Proxy 'QueryAndMempool
-&gt; RouteTx
     (ApplicationC ms)
     (TxEffs
      :&amp; (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core))
-&gt; TransactionApplication
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
forall k (layout :: k) (r :: EffectRow) (scope :: Scope).
HasTxRouter layout r scope =&gt;
Proxy layout
-&gt; Proxy r
-&gt; Proxy scope
-&gt; RouteTx layout (TxEffs :&amp; r)
-&gt; TransactionApplication (Sem r)
</span><a href="Tendermint.SDK.BaseApp.Transaction.html#serveTxApplication"><span class="hs-identifier hs-var">T.serveTxApplication</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (ApplicationC ms)
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationC"><span class="hs-identifier hs-type">M.ApplicationC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Proxy
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
Proxy (BaseAppEffs core)
</span><a href="#local-6989586621679578248"><span class="hs-identifier hs-var">rProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy 'QueryAndMempool
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#QueryAndMempool"><span class="hs-identifier hs-type">Store.QueryAndMempool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RouteTx
   (ApplicationC ms)
   (TxEffs
    :&amp; (Tagged 'Consensus ReadStore
          : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
          : Transaction : CommitBlock : Metrics : Logger : Resource
          : Error AppError : core))
 -&gt; TransactionApplication (Sem (BaseAppEffs core)))
-&gt; RouteTx
     (ApplicationC ms)
     (TxEffs
      :&amp; (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core))
-&gt; TransactionApplication (Sem (BaseAppEffs core))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
-&gt; RouteTx
     (ApplicationC ms)
     (Output Event
        : GasMeter : WriteStore : ReadStore : Error AppError
        : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
        : Tagged 'Consensus WriteStore : Transaction : CommitBlock
        : Metrics : Logger : Resource : Error AppError : core)
forall k1 (check :: k1) k2 (deliver :: k2) k3 (query :: k3)
       (r :: EffectRow) (s :: EffectRow).
Application check deliver query r s -&gt; RouteTx check r
</span><a href="Tendermint.SDK.Application.Module.html#applicationTxChecker"><span class="hs-identifier hs-var hs-var">M.applicationTxChecker</span></a></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (TxEffs :&amp; BaseAppEffs core)
  (QueryEffs :&amp; BaseAppEffs core)
</span><a href="#local-6989586621679578247"><span class="hs-identifier hs-var">app</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span>      </span><span class="annot"><a href="#local-6989586621679578236"><span class="hs-identifier hs-type">deliverServer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Types.html#TransactionApplication"><span class="hs-identifier hs-type">T.TransactionApplication</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>      </span><span id="local-6989586621679578236"><span class="annot"><span class="annottext">deliverServer :: TransactionApplication (Sem (BaseAppEffs core))
</span><a href="#local-6989586621679578236"><span class="hs-identifier hs-var hs-var">deliverServer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-128"></span><span>        </span><span class="annot"><span class="annottext">Proxy (ApplicationD ms)
-&gt; Proxy
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
-&gt; Proxy 'Consensus
-&gt; RouteTx
     (ApplicationD ms)
     (TxEffs
      :&amp; (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core))
-&gt; TransactionApplication
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
forall k (layout :: k) (r :: EffectRow) (scope :: Scope).
HasTxRouter layout r scope =&gt;
Proxy layout
-&gt; Proxy r
-&gt; Proxy scope
-&gt; RouteTx layout (TxEffs :&amp; r)
-&gt; TransactionApplication (Sem r)
</span><a href="Tendermint.SDK.BaseApp.Transaction.html#serveTxApplication"><span class="hs-identifier hs-var">T.serveTxApplication</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (ApplicationD ms)
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationD"><span class="hs-identifier hs-type">M.ApplicationD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Proxy
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
Proxy (BaseAppEffs core)
</span><a href="#local-6989586621679578248"><span class="hs-identifier hs-var">rProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy 'Consensus
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#Consensus"><span class="hs-identifier hs-type">Store.Consensus</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RouteTx
   (ApplicationD ms)
   (TxEffs
    :&amp; (Tagged 'Consensus ReadStore
          : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
          : Transaction : CommitBlock : Metrics : Logger : Resource
          : Error AppError : core))
 -&gt; TransactionApplication (Sem (BaseAppEffs core)))
-&gt; RouteTx
     (ApplicationD ms)
     (TxEffs
      :&amp; (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core))
-&gt; TransactionApplication (Sem (BaseAppEffs core))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
-&gt; RouteTx
     (ApplicationD ms)
     (Output Event
        : GasMeter : WriteStore : ReadStore : Error AppError
        : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
        : Tagged 'Consensus WriteStore : Transaction : CommitBlock
        : Metrics : Logger : Resource : Error AppError : core)
forall k1 (check :: k1) k2 (deliver :: k2) k3 (query :: k3)
       (r :: EffectRow) (s :: EffectRow).
Application check deliver query r s -&gt; RouteTx deliver r
</span><a href="Tendermint.SDK.Application.Module.html#applicationTxDeliverer"><span class="hs-identifier hs-var hs-var">M.applicationTxDeliverer</span></a></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (TxEffs :&amp; BaseAppEffs core)
  (QueryEffs :&amp; BaseAppEffs core)
</span><a href="#local-6989586621679578247"><span class="hs-identifier hs-var">app</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span>      </span><span class="annot"><a href="#local-6989586621679578234"><span class="hs-identifier hs-type">queryServer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Query.Types.html#QueryApplication"><span class="hs-identifier hs-type">Q.QueryApplication</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>      </span><span id="local-6989586621679578234"><span class="annot"><span class="annottext">queryServer :: QueryApplication (Sem (BaseAppEffs core))
</span><a href="#local-6989586621679578234"><span class="hs-identifier hs-var hs-var">queryServer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (ApplicationQ ms)
-&gt; Proxy
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
-&gt; RouteQ
     (ApplicationQ ms)
     (QueryEffs
      :&amp; (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core))
-&gt; QueryApplication
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
forall k (layout :: k) (r :: EffectRow).
HasQueryRouter layout r =&gt;
Proxy layout
-&gt; Proxy r
-&gt; RouteQ layout (QueryEffs :&amp; r)
-&gt; QueryApplication (Sem r)
</span><a href="Tendermint.SDK.BaseApp.Query.html#serveQueryApplication"><span class="hs-identifier hs-var">Q.serveQueryApplication</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (ApplicationQ ms)
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationQ"><span class="hs-identifier hs-type">M.ApplicationQ</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578310"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Proxy
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
Proxy (BaseAppEffs core)
</span><a href="#local-6989586621679578248"><span class="hs-identifier hs-var">rProxy</span></a></span><span> </span><span class="annot"><span class="annottext">(RouteQ
   (ApplicationQ ms)
   (QueryEffs
    :&amp; (Tagged 'Consensus ReadStore
          : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
          : Transaction : CommitBlock : Metrics : Logger : Resource
          : Error AppError : core))
 -&gt; QueryApplication (Sem (BaseAppEffs core)))
-&gt; RouteQ
     (ApplicationQ ms)
     (QueryEffs
      :&amp; (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core))
-&gt; QueryApplication (Sem (BaseAppEffs core))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
-&gt; RouteQ
     (ApplicationQ ms)
     (ReadStore
        : Error AppError : Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
forall k1 (check :: k1) k2 (deliver :: k2) k3 (query :: k3)
       (r :: EffectRow) (s :: EffectRow).
Application check deliver query r s -&gt; RouteQ query s
</span><a href="Tendermint.SDK.Application.Module.html#applicationQuerier"><span class="hs-identifier hs-var hs-var">M.applicationQuerier</span></a></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (TxEffs :&amp; BaseAppEffs core)
  (QueryEffs :&amp; BaseAppEffs core)
</span><a href="#local-6989586621679578247"><span class="hs-identifier hs-var">app</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span>      </span><span id="local-6989586621679578231"><span class="annot"><span class="annottext">query :: Request 'MTQuery
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
</span><a href="#local-6989586621679578231"><span class="hs-identifier hs-var hs-var">query</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestQuery</span></span><span> </span><span id="local-6989586621679578229"><span class="annot"><span class="annottext">q :: Query
</span><a href="#local-6989586621679578229"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-134"></span><span>        </span><span class="hs-comment">--Store.applyScope $</span><span>
</span><span id="line-135"></span><span>        </span><span class="annot"><span class="annottext">Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  (Response 'MTQuery)
-&gt; (AppError
    -&gt; Sem
         (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core)
         (Response 'MTQuery))
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
forall e (r :: EffectRow) a.
MemberWithError (Error e) r =&gt;
Sem r a -&gt; (e -&gt; Sem r a) -&gt; Sem r a
</span><span class="hs-identifier hs-var">catch</span></span><span>
</span><span id="line-136"></span><span>          </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span>
</span><span id="line-137"></span><span>            </span><span id="local-6989586621679578228"><span class="annot"><span class="annottext">Query
</span><a href="#local-6989586621679578228"><span class="hs-identifier hs-var">queryResp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QueryApplication (Sem (BaseAppEffs core))
</span><a href="#local-6989586621679578234"><span class="hs-identifier hs-var">queryServer</span></a></span><span> </span><span class="annot"><span class="annottext">Query
</span><a href="#local-6989586621679578229"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-138"></span><span>            </span><span class="annot"><span class="annottext">Response 'MTQuery
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTQuery
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTQuery))
-&gt; Response 'MTQuery
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Query -&gt; Response 'MTQuery
</span><span class="hs-identifier hs-var">ResponseQuery</span></span><span> </span><span class="annot"><span class="annottext">Query
</span><a href="#local-6989586621679578228"><span class="hs-identifier hs-var">queryResp</span></a></span><span>
</span><span id="line-139"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>          </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679578226"><span class="annot"><span class="annottext">AppError
</span><a href="#local-6989586621679578226"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html#AppError"><span class="hs-identifier hs-type">BA.AppError</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>            </span><span class="annot"><span class="annottext">Response 'MTQuery
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTQuery
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTQuery))
-&gt; (Query -&gt; Response 'MTQuery)
-&gt; Query
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Query -&gt; Response 'MTQuery
</span><span class="hs-identifier hs-var">ResponseQuery</span></span><span> </span><span class="annot"><span class="annottext">(Query
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTQuery))
-&gt; Query
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Query
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span> </span><span class="annot"><span class="annottext">Query -&gt; (Query -&gt; Query) -&gt; Query
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(AppError -&gt; Identity AppError) -&gt; Query -&gt; Identity Query
Lens' Query AppError
</span><a href="Tendermint.SDK.BaseApp.Errors.html#queryAppError"><span class="hs-identifier hs-var">queryAppError</span></a></span><span> </span><span class="annot"><span class="annottext">((AppError -&gt; Identity AppError) -&gt; Query -&gt; Identity Query)
-&gt; AppError -&gt; Query -&gt; Query
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">AppError
</span><a href="#local-6989586621679578226"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-142"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span>      </span><span id="local-6989586621679578224"><span class="annot"><span class="annottext">checkTx :: Request 'MTCheckTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCheckTx)
</span><a href="#local-6989586621679578224"><span class="hs-identifier hs-var hs-var">checkTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestCheckTx</span></span><span> </span><span id="local-6989586621679578222"><span class="annot"><span class="annottext">_checkTx :: CheckTx
</span><a href="#local-6989586621679578222"><span class="hs-identifier hs-var">_checkTx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>        </span><span id="local-6989586621679578221"><span class="annot"><span class="annottext">TxResult
</span><a href="#local-6989586621679578221"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  TxResult
-&gt; (AppError
    -&gt; Sem
         (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core)
         TxResult)
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     TxResult
forall e (r :: EffectRow) a.
MemberWithError (Error e) r =&gt;
Sem r a -&gt; (e -&gt; Sem r a) -&gt; Sem r a
</span><span class="hs-identifier hs-var">catch</span></span><span>
</span><span id="line-146"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679578220"><span class="annot"><span class="annottext">txBytes :: ByteString
</span><a href="#local-6989586621679578220"><span class="hs-identifier hs-var hs-var">txBytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">CheckTx
</span><a href="#local-6989586621679578222"><span class="hs-identifier hs-var">_checkTx</span></a></span><span> </span><span class="annot"><span class="annottext">CheckTx -&gt; Getting ByteString CheckTx ByteString -&gt; ByteString
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">(Base64String -&gt; Const ByteString Base64String)
-&gt; CheckTx -&gt; Const ByteString CheckTx
Iso' CheckTx Base64String
</span><span class="hs-identifier hs-var">Req._checkTxTx</span></span><span> </span><span class="annot"><span class="annottext">((Base64String -&gt; Const ByteString Base64String)
 -&gt; CheckTx -&gt; Const ByteString CheckTx)
-&gt; ((ByteString -&gt; Const ByteString ByteString)
    -&gt; Base64String -&gt; Const ByteString Base64String)
-&gt; Getting ByteString CheckTx ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Base64String -&gt; ByteString)
-&gt; (ByteString -&gt; Const ByteString ByteString)
-&gt; Base64String
-&gt; Const ByteString Base64String
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s a.
(Profunctor p, Contravariant f) =&gt;
(s -&gt; a) -&gt; Optic' p f s a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">Base64String -&gt; ByteString
forall ba. ByteArray ba =&gt; Base64String -&gt; ba
</span><span class="hs-identifier hs-var">Base64.toBytes</span></span><span>
</span><span id="line-147"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-148"></span><span>               </span><span class="hs-special">(</span><span id="local-6989586621679578217"><span class="annot"><span class="annottext">res :: TxResult
</span><a href="#local-6989586621679578217"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (RoutingTx ByteString)
</span><a href="#local-6989586621679578245"><span class="hs-identifier hs-var">txParser</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679578220"><span class="hs-identifier hs-var">txBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  (RoutingTx ByteString)
-&gt; TransactionApplication
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (TxResult, Maybe Cache)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">TransactionApplication
  (Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core))
TransactionApplication (Sem (BaseAppEffs core))
</span><a href="#local-6989586621679578239"><span class="hs-identifier hs-var">checkServer</span></a></span><span>
</span><span id="line-149"></span><span>               </span><span class="annot"><span class="annottext">TxResult
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     TxResult
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">TxResult
</span><a href="#local-6989586621679578217"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-150"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>          </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679578216"><span class="annot"><span class="annottext">AppError
</span><a href="#local-6989586621679578216"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html#AppError"><span class="hs-identifier hs-type">BA.AppError</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-152"></span><span>            </span><span class="annot"><span class="annottext">TxResult
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     TxResult
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(TxResult
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      TxResult)
-&gt; TxResult
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     TxResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TxResult
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span> </span><span class="annot"><span class="annottext">TxResult -&gt; (TxResult -&gt; TxResult) -&gt; TxResult
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(AppError -&gt; Identity AppError) -&gt; TxResult -&gt; Identity TxResult
Lens' TxResult AppError
</span><a href="Tendermint.SDK.BaseApp.Errors.html#txResultAppError"><span class="hs-identifier hs-var">txResultAppError</span></a></span><span> </span><span class="annot"><span class="annottext">((AppError -&gt; Identity AppError) -&gt; TxResult -&gt; Identity TxResult)
-&gt; AppError -&gt; TxResult -&gt; TxResult
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">AppError
</span><a href="#local-6989586621679578216"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-153"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>        </span><span class="annot"><span class="annottext">Response 'MTCheckTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCheckTx)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTCheckTx
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTCheckTx))
-&gt; (CheckTx -&gt; Response 'MTCheckTx)
-&gt; CheckTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCheckTx)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CheckTx -&gt; Response 'MTCheckTx
</span><span class="hs-identifier hs-var">ResponseCheckTx</span></span><span> </span><span class="annot"><span class="annottext">(CheckTx
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTCheckTx))
-&gt; CheckTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCheckTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TxResult
</span><a href="#local-6989586621679578221"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">TxResult -&gt; Getting CheckTx TxResult CheckTx -&gt; CheckTx
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">AnIso CheckTx CheckTx TxResult TxResult
-&gt; Iso TxResult TxResult CheckTx CheckTx
forall s t a b. AnIso s t a b -&gt; Iso b a t s
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">AnIso CheckTx CheckTx TxResult TxResult
Iso' CheckTx TxResult
</span><a href="Tendermint.SDK.Types.TxResult.html#checkTxTxResult"><span class="hs-identifier hs-var">checkTxTxResult</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span>      </span><span id="local-6989586621679578214"><span class="annot"><span class="annottext">deliverTx :: Request 'MTDeliverTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTDeliverTx)
</span><a href="#local-6989586621679578214"><span class="hs-identifier hs-var hs-var">deliverTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestDeliverTx</span></span><span> </span><span id="local-6989586621679578212"><span class="annot"><span class="annottext">_deliverTx :: DeliverTx
</span><a href="#local-6989586621679578212"><span class="hs-identifier hs-var">_deliverTx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-157"></span><span>        </span><span id="local-6989586621679578211"><span class="annot"><span class="annottext">TxResult
</span><a href="#local-6989586621679578211"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  TxResult
-&gt; (AppError
    -&gt; Sem
         (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core)
         TxResult)
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     TxResult
forall e (r :: EffectRow) a.
MemberWithError (Error e) r =&gt;
Sem r a -&gt; (e -&gt; Sem r a) -&gt; Sem r a
</span><span class="hs-identifier hs-var">catch</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html#AppError"><span class="hs-identifier hs-type">BA.AppError</span></a></span><span>
</span><span id="line-158"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679578210"><span class="annot"><span class="annottext">txBytes :: ByteString
</span><a href="#local-6989586621679578210"><span class="hs-identifier hs-var hs-var">txBytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DeliverTx
</span><a href="#local-6989586621679578212"><span class="hs-identifier hs-var">_deliverTx</span></a></span><span> </span><span class="annot"><span class="annottext">DeliverTx -&gt; Getting ByteString DeliverTx ByteString -&gt; ByteString
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">(Base64String -&gt; Const ByteString Base64String)
-&gt; DeliverTx -&gt; Const ByteString DeliverTx
Iso' DeliverTx Base64String
</span><span class="hs-identifier hs-var">Req._deliverTxTx</span></span><span> </span><span class="annot"><span class="annottext">((Base64String -&gt; Const ByteString Base64String)
 -&gt; DeliverTx -&gt; Const ByteString DeliverTx)
-&gt; ((ByteString -&gt; Const ByteString ByteString)
    -&gt; Base64String -&gt; Const ByteString Base64String)
-&gt; Getting ByteString DeliverTx ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Base64String -&gt; ByteString)
-&gt; (ByteString -&gt; Const ByteString ByteString)
-&gt; Base64String
-&gt; Const ByteString Base64String
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s a.
(Profunctor p, Contravariant f) =&gt;
(s -&gt; a) -&gt; Optic' p f s a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">Base64String -&gt; ByteString
forall ba. ByteArray ba =&gt; Base64String -&gt; ba
</span><span class="hs-identifier hs-var">Base64.toBytes</span></span><span>
</span><span id="line-159"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-160"></span><span>               </span><span class="hs-special">(</span><span id="local-6989586621679578208"><span class="annot"><span class="annottext">res :: TxResult
</span><a href="#local-6989586621679578208"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679578207"><span class="annot"><span class="annottext">cache :: Maybe Cache
</span><a href="#local-6989586621679578207"><span class="hs-identifier hs-var">cache</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (RoutingTx ByteString)
</span><a href="#local-6989586621679578245"><span class="hs-identifier hs-var">txParser</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679578210"><span class="hs-identifier hs-var">txBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  (RoutingTx ByteString)
-&gt; TransactionApplication
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (TxResult, Maybe Cache)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">TransactionApplication
  (Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core))
TransactionApplication (Sem (BaseAppEffs core))
</span><a href="#local-6989586621679578236"><span class="hs-identifier hs-var">deliverServer</span></a></span><span>
</span><span id="line-161"></span><span>               </span><span class="annot"><span class="annottext">Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  ()
-&gt; (Cache
    -&gt; Sem
         (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core)
         ())
-&gt; Maybe Cache
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     ()
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">()
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Cache
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     ()
forall (r :: EffectRow).
Member (Tagged 'Consensus WriteStore) r =&gt;
Cache -&gt; Sem r ()
</span><a href="Tendermint.SDK.BaseApp.Transaction.Cache.html#writeCache"><span class="hs-identifier hs-var">writeCache</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Cache
</span><a href="#local-6989586621679578207"><span class="hs-identifier hs-var">cache</span></a></span><span>
</span><span id="line-162"></span><span>               </span><span class="annot"><span class="annottext">TxResult
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     TxResult
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">TxResult
</span><a href="#local-6989586621679578208"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-163"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>          </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679578205"><span class="annot"><span class="annottext">AppError
</span><a href="#local-6989586621679578205"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Errors.html#AppError"><span class="hs-identifier hs-type">BA.AppError</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-165"></span><span>            </span><span class="annot"><span class="annottext">TxResult
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     TxResult
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(TxResult
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      TxResult)
-&gt; TxResult
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     TxResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TxResult
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span> </span><span class="annot"><span class="annottext">TxResult -&gt; (TxResult -&gt; TxResult) -&gt; TxResult
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(AppError -&gt; Identity AppError) -&gt; TxResult -&gt; Identity TxResult
Lens' TxResult AppError
</span><a href="Tendermint.SDK.BaseApp.Errors.html#txResultAppError"><span class="hs-identifier hs-var">txResultAppError</span></a></span><span> </span><span class="annot"><span class="annottext">((AppError -&gt; Identity AppError) -&gt; TxResult -&gt; Identity TxResult)
-&gt; AppError -&gt; TxResult -&gt; TxResult
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">AppError
</span><a href="#local-6989586621679578205"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-166"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>        </span><span class="annot"><span class="annottext">Response 'MTDeliverTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTDeliverTx)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTDeliverTx
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTDeliverTx))
-&gt; (DeliverTx -&gt; Response 'MTDeliverTx)
-&gt; DeliverTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTDeliverTx)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DeliverTx -&gt; Response 'MTDeliverTx
</span><span class="hs-identifier hs-var">ResponseDeliverTx</span></span><span> </span><span class="annot"><span class="annottext">(DeliverTx
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTDeliverTx))
-&gt; DeliverTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTDeliverTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TxResult
</span><a href="#local-6989586621679578211"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">TxResult -&gt; Getting DeliverTx TxResult DeliverTx -&gt; DeliverTx
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">AnIso DeliverTx DeliverTx TxResult TxResult
-&gt; Iso TxResult TxResult DeliverTx DeliverTx
forall s t a b. AnIso s t a b -&gt; Iso b a t s
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">AnIso DeliverTx DeliverTx TxResult TxResult
Iso' DeliverTx TxResult
</span><a href="Tendermint.SDK.Types.TxResult.html#deliverTxTxResult"><span class="hs-identifier hs-var">deliverTxTxResult</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span>      </span><span class="annot"><a href="#local-6989586621679578203"><span class="hs-identifier hs-type">commit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTCommit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>      </span><span id="local-6989586621679578203"><span class="annot"><span class="annottext">commit :: Handler 'MTCommit (BaseAppEffs core)
</span><a href="#local-6989586621679578203"><span class="hs-identifier hs-var hs-var">commit</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-171"></span><span>        </span><span class="annot"><span class="annottext">CommitResponse
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  CommitResponse
forall (r :: EffectRow).
MemberWithError Transaction r =&gt;
Sem r CommitResponse
</span><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#commit"><span class="hs-identifier hs-var">Store.commit</span></a></span><span>
</span><span id="line-172"></span><span>        </span><span id="local-6989586621679578201"><span class="annot"><span class="annottext">Base64String
</span><a href="#local-6989586621679578201"><span class="hs-identifier hs-var">rootHash</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  Base64String
forall (r :: EffectRow).
MemberWithError CommitBlock r =&gt;
Sem r Base64String
</span><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#commitBlock"><span class="hs-identifier hs-var">Store.commitBlock</span></a></span><span>
</span><span id="line-173"></span><span>        </span><span class="annot"><span class="annottext">Response 'MTCommit
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCommit)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTCommit
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTCommit))
-&gt; (Commit -&gt; Response 'MTCommit)
-&gt; Commit
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCommit)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Commit -&gt; Response 'MTCommit
</span><span class="hs-identifier hs-var">ResponseCommit</span></span><span> </span><span class="annot"><span class="annottext">(Commit
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTCommit))
-&gt; Commit
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCommit)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Commit
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span>
</span><span id="line-174"></span><span>          </span><span class="annot"><span class="annottext">Commit -&gt; (Commit -&gt; Commit) -&gt; Commit
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(Base64String -&gt; Identity Base64String)
-&gt; Commit -&gt; Identity Commit
Iso' Commit Base64String
</span><span class="hs-identifier hs-var">Resp._commitData</span></span><span> </span><span class="annot"><span class="annottext">((Base64String -&gt; Identity Base64String)
 -&gt; Commit -&gt; Identity Commit)
-&gt; Base64String -&gt; Commit -&gt; Commit
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Base64String -&gt; Base64String
forall ba. ByteArrayAccess ba =&gt; ba -&gt; Base64String
</span><span class="hs-identifier hs-var">Base64.fromBytes</span></span><span> </span><span class="annot"><span class="annottext">Base64String
</span><a href="#local-6989586621679578201"><span class="hs-identifier hs-var">rootHash</span></a></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span>      </span><span class="annot"><a href="#local-6989586621679578196"><span class="hs-identifier hs-type">beginBlock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTBeginBlock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>      </span><span id="local-6989586621679578196"><span class="annot"><span class="annottext">beginBlock :: Handler 'MTBeginBlock (BaseAppEffs core)
</span><a href="#local-6989586621679578196"><span class="hs-identifier hs-var hs-var">beginBlock</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestBeginBlock</span></span><span> </span><span id="local-6989586621679578194"><span class="annot"><span class="annottext">bb :: BeginBlock
</span><a href="#local-6989586621679578194"><span class="hs-identifier hs-var">bb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-178"></span><span>        </span><span id="local-6989586621679578193"><span class="annot"><span class="annottext">Either AppError BeginBlock
</span><a href="#local-6989586621679578193"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sem
  (TxEffs
   :&amp; (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core))
  ()
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Either AppError BeginBlock)
forall (r :: EffectRow).
Members
  '[Embed IO, Tagged 'Consensus ReadStore,
    Tagged 'Consensus WriteStore]
  r =&gt;
Sem (TxEffs :&amp; r) () -&gt; Sem r (Either AppError BeginBlock)
</span><a href="Tendermint.SDK.BaseApp.Block.html#evalBeginBlockHandler"><span class="hs-identifier hs-var">evalBeginBlockHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(Sem
   (TxEffs
    :&amp; (Tagged 'Consensus ReadStore
          : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
          : Transaction : CommitBlock : Metrics : Logger : Resource
          : Error AppError : core))
   ()
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Either AppError BeginBlock))
-&gt; Sem
     (TxEffs
      :&amp; (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core))
     ()
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Either AppError BeginBlock)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
-&gt; BeginBlock
-&gt; Sem
     (Output Event
        : GasMeter : WriteStore : ReadStore : Error AppError
        : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
        : Tagged 'Consensus WriteStore : Transaction : CommitBlock
        : Metrics : Logger : Resource : Error AppError : core)
     ()
forall k1 (check :: k1) k2 (deliver :: k2) k3 (query :: k3)
       (r :: EffectRow) (s :: EffectRow).
Application check deliver query r s -&gt; BeginBlock -&gt; Sem r ()
</span><a href="Tendermint.SDK.Application.Module.html#applicationBeginBlocker"><span class="hs-identifier hs-var hs-var">M.applicationBeginBlocker</span></a></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (TxEffs :&amp; BaseAppEffs core)
  (QueryEffs :&amp; BaseAppEffs core)
</span><a href="#local-6989586621679578247"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">BeginBlock
</span><a href="#local-6989586621679578194"><span class="hs-identifier hs-var">bb</span></a></span><span>
</span><span id="line-179"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either AppError BeginBlock
</span><a href="#local-6989586621679578193"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-180"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679578191"><span class="annot"><span class="annottext">bbr :: BeginBlock
</span><a href="#local-6989586621679578191"><span class="hs-identifier hs-var">bbr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-181"></span><span>            </span><span class="annot"><span class="annottext">Response 'MTBeginBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTBeginBlock)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTBeginBlock
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTBeginBlock))
-&gt; (BeginBlock -&gt; Response 'MTBeginBlock)
-&gt; BeginBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTBeginBlock)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BeginBlock -&gt; Response 'MTBeginBlock
</span><span class="hs-identifier hs-var">ResponseBeginBlock</span></span><span> </span><span class="annot"><span class="annottext">(BeginBlock
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTBeginBlock))
-&gt; BeginBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTBeginBlock)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">BeginBlock
</span><a href="#local-6989586621679578191"><span class="hs-identifier hs-var">bbr</span></a></span><span>
</span><span id="line-182"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679578189"><span class="annot"><span class="annottext">e :: AppError
</span><a href="#local-6989586621679578189"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-183"></span><span>            </span><span class="annot"><span class="annottext">Response 'MTBeginBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTBeginBlock)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTBeginBlock
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTBeginBlock))
-&gt; (AppError -&gt; Response 'MTBeginBlock)
-&gt; AppError
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTBeginBlock)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Exception -&gt; Response 'MTBeginBlock
forall (m :: MessageType). Exception -&gt; Response m
</span><span class="hs-identifier hs-var">ResponseException</span></span><span> </span><span class="annot"><span class="annottext">(Exception -&gt; Response 'MTBeginBlock)
-&gt; (AppError -&gt; Exception) -&gt; AppError -&gt; Response 'MTBeginBlock
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Exception
</span><span class="hs-identifier hs-var">Resp.Exception</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Exception) -&gt; (AppError -&gt; Text) -&gt; AppError -&gt; Exception
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
forall a b. ConvertibleStrings a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">cs</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text)
-&gt; (AppError -&gt; ByteString) -&gt; AppError -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AppError -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">A.encode</span></span><span> </span><span class="annot"><span class="annottext">(AppError
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTBeginBlock))
-&gt; AppError
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTBeginBlock)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AppError
</span><a href="#local-6989586621679578189"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>      </span><span class="annot"><a href="#local-6989586621679578185"><span class="hs-identifier hs-type">endBlock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MTEndBlock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578311"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>      </span><span id="local-6989586621679578185"><span class="annot"><span class="annottext">endBlock :: Handler 'MTEndBlock (BaseAppEffs core)
</span><a href="#local-6989586621679578185"><span class="hs-identifier hs-var hs-var">endBlock</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestEndBlock</span></span><span> </span><span id="local-6989586621679578183"><span class="annot"><span class="annottext">eb :: EndBlock
</span><a href="#local-6989586621679578183"><span class="hs-identifier hs-var">eb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-187"></span><span>        </span><span id="local-6989586621679578182"><span class="annot"><span class="annottext">Either AppError EndBlock
</span><a href="#local-6989586621679578182"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sem
  (TxEffs
   :&amp; (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core))
  EndBlockResult
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Either AppError EndBlock)
forall (r :: EffectRow).
Members
  '[Embed IO, Tagged 'Consensus ReadStore,
    Tagged 'Consensus WriteStore]
  r =&gt;
Sem (TxEffs :&amp; r) EndBlockResult
-&gt; Sem r (Either AppError EndBlock)
</span><a href="Tendermint.SDK.BaseApp.Block.html#evalEndBlockHandler"><span class="hs-identifier hs-var">evalEndBlockHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(Sem
   (TxEffs
    :&amp; (Tagged 'Consensus ReadStore
          : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
          : Transaction : CommitBlock : Metrics : Logger : Resource
          : Error AppError : core))
   EndBlockResult
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Either AppError EndBlock))
-&gt; Sem
     (TxEffs
      :&amp; (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core))
     EndBlockResult
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Either AppError EndBlock)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
-&gt; EndBlock
-&gt; Sem
     (Output Event
        : GasMeter : WriteStore : ReadStore : Error AppError
        : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
        : Tagged 'Consensus WriteStore : Transaction : CommitBlock
        : Metrics : Logger : Resource : Error AppError : core)
     EndBlockResult
forall k1 (check :: k1) k2 (deliver :: k2) k3 (query :: k3)
       (r :: EffectRow) (s :: EffectRow).
Application check deliver query r s
-&gt; EndBlock -&gt; Sem r EndBlockResult
</span><a href="Tendermint.SDK.Application.Module.html#applicationEndBlocker"><span class="hs-identifier hs-var hs-var">M.applicationEndBlocker</span></a></span><span> </span><span class="annot"><span class="annottext">Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (Output Event
     : GasMeter : WriteStore : ReadStore : Error AppError
     : Tagged 'Consensus ReadStore : Tagged 'QueryAndMempool ReadStore
     : Tagged 'Consensus WriteStore : Transaction : CommitBlock
     : Metrics : Logger : Resource : Error AppError : core)
  (ReadStore
     : Error AppError : Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
Application
  (ApplicationC ms)
  (ApplicationD ms)
  (ApplicationQ ms)
  (TxEffs :&amp; BaseAppEffs core)
  (QueryEffs :&amp; BaseAppEffs core)
</span><a href="#local-6989586621679578247"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">EndBlock
</span><a href="#local-6989586621679578183"><span class="hs-identifier hs-var">eb</span></a></span><span>
</span><span id="line-188"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either AppError EndBlock
</span><a href="#local-6989586621679578182"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-189"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679578180"><span class="annot"><span class="annottext">ebr :: EndBlock
</span><a href="#local-6989586621679578180"><span class="hs-identifier hs-var">ebr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-190"></span><span>            </span><span class="annot"><span class="annottext">Response 'MTEndBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEndBlock)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTEndBlock
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTEndBlock))
-&gt; (EndBlock -&gt; Response 'MTEndBlock)
-&gt; EndBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEndBlock)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EndBlock -&gt; Response 'MTEndBlock
</span><span class="hs-identifier hs-var">ResponseEndBlock</span></span><span> </span><span class="annot"><span class="annottext">(EndBlock
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTEndBlock))
-&gt; EndBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEndBlock)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EndBlock
</span><a href="#local-6989586621679578180"><span class="hs-identifier hs-var">ebr</span></a></span><span>
</span><span id="line-191"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679578178"><span class="annot"><span class="annottext">e :: AppError
</span><a href="#local-6989586621679578178"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>            </span><span class="annot"><span class="annottext">Response 'MTEndBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEndBlock)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTEndBlock
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTEndBlock))
-&gt; (AppError -&gt; Response 'MTEndBlock)
-&gt; AppError
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEndBlock)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Exception -&gt; Response 'MTEndBlock
forall (m :: MessageType). Exception -&gt; Response m
</span><span class="hs-identifier hs-var">ResponseException</span></span><span> </span><span class="annot"><span class="annottext">(Exception -&gt; Response 'MTEndBlock)
-&gt; (AppError -&gt; Exception) -&gt; AppError -&gt; Response 'MTEndBlock
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Exception
</span><span class="hs-identifier hs-var">Resp.Exception</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Exception) -&gt; (AppError -&gt; Text) -&gt; AppError -&gt; Exception
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
forall a b. ConvertibleStrings a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">cs</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text)
-&gt; (AppError -&gt; ByteString) -&gt; AppError -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AppError -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">A.encode</span></span><span> </span><span class="annot"><span class="annottext">(AppError
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTEndBlock))
-&gt; AppError
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEndBlock)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AppError
</span><a href="#local-6989586621679578178"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Handlers
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
forall (r :: EffectRow). Handlers r
</span><a href="Tendermint.SDK.Application.Handlers.html#defaultHandlers"><span class="hs-identifier hs-var">defaultHandlers</span></a></span><span>
</span><span id="line-197"></span><span>       </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Request 'MTQuery
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
query :: Request 'MTQuery
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
query :: Request 'MTQuery
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTQuery)
</span><a href="#local-6989586621679578231"><span class="hs-identifier hs-var hs-var">query</span></a></span><span>
</span><span id="line-198"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Request 'MTCheckTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCheckTx)
checkTx :: Request 'MTCheckTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCheckTx)
checkTx :: Request 'MTCheckTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCheckTx)
</span><a href="#local-6989586621679578224"><span class="hs-identifier hs-var hs-var">checkTx</span></a></span><span>
</span><span id="line-199"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Request 'MTDeliverTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTDeliverTx)
deliverTx :: Request 'MTDeliverTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTDeliverTx)
deliverTx :: Request 'MTDeliverTx
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTDeliverTx)
</span><a href="#local-6989586621679578214"><span class="hs-identifier hs-var hs-var">deliverTx</span></a></span><span>
</span><span id="line-200"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Request 'MTCommit
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCommit)
Handler 'MTCommit (BaseAppEffs core)
commit :: Handler 'MTCommit (BaseAppEffs core)
commit :: Request 'MTCommit
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTCommit)
</span><a href="#local-6989586621679578203"><span class="hs-identifier hs-var hs-var">commit</span></a></span><span>
</span><span id="line-201"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Request 'MTBeginBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTBeginBlock)
Handler 'MTBeginBlock (BaseAppEffs core)
beginBlock :: Handler 'MTBeginBlock (BaseAppEffs core)
beginBlock :: Request 'MTBeginBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTBeginBlock)
</span><a href="#local-6989586621679578196"><span class="hs-identifier hs-var hs-var">beginBlock</span></a></span><span>
</span><span id="line-202"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Request 'MTEndBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEndBlock)
Handler 'MTEndBlock (BaseAppEffs core)
endBlock :: Handler 'MTEndBlock (BaseAppEffs core)
endBlock :: Request 'MTEndBlock
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEndBlock)
</span><a href="#local-6989586621679578185"><span class="hs-identifier hs-var hs-var">endBlock</span></a></span><span>
</span><span id="line-203"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#makeApp"><span class="hs-identifier hs-type">makeApp</span></a></span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679578177"><span class="annot"><a href="#local-6989586621679578177"><span class="hs-identifier hs-type">alg</span></a></span></span><span> </span><span id="local-6989586621679578176"><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span></span><span> </span><span id="local-6989586621679578175"><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span>     </span><span class="annot"><a href="Tendermint.SDK.Crypto.html#RecoverableSignatureSchema"><span class="hs-identifier hs-type">RecoverableSignatureSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578177"><span class="hs-identifier hs-type">alg</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Crypto.html#Message"><span class="hs-identifier hs-type">Message</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578177"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Digest</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SHA256</span></span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Embed</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ToApplication"><span class="hs-identifier hs-type">M.ToApplication</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Router.html#HasTxRouter"><span class="hs-identifier hs-type">T.HasTxRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationC"><span class="hs-identifier hs-type">M.ApplicationC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#QueryAndMempool"><span class="hs-identifier hs-type">Store.QueryAndMempool</span></a></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Router.html#HasTxRouter"><span class="hs-identifier hs-type">T.HasTxRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationC"><span class="hs-identifier hs-type">M.ApplicationC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#QueryAndMempool"><span class="hs-identifier hs-type">Store.QueryAndMempool</span></a></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Router.html#HasTxRouter"><span class="hs-identifier hs-type">T.HasTxRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationD"><span class="hs-identifier hs-type">M.ApplicationD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#Consensus"><span class="hs-identifier hs-type">Store.Consensus</span></a></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Transaction.Router.html#HasTxRouter"><span class="hs-identifier hs-type">T.HasTxRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationD"><span class="hs-identifier hs-type">M.ApplicationD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Store.RawStore.html#Consensus"><span class="hs-identifier hs-type">Store.Consensus</span></a></span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Query.Router.html#HasQueryRouter"><span class="hs-identifier hs-type">Q.HasQueryRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationQ"><span class="hs-identifier hs-type">M.ApplicationQ</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Effs"><span class="hs-identifier hs-type">M.Effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.BaseApp.Query.Router.html#HasQueryRouter"><span class="hs-identifier hs-type">Q.HasQueryRouter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#ApplicationQ"><span class="hs-identifier hs-type">M.ApplicationQ</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Module.html#Eval"><span class="hs-identifier hs-type">M.Eval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-comment">-- =&gt; M.Effs ms (BA.BaseAppEffs core) ~ (BA.AppEffs (M.ModulesEffs ms) core)</span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#HandlersContext"><span class="hs-identifier hs-type">HandlersContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578177"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578176"><span class="hs-identifier hs-type">ms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">App</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sem</span></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span id="makeApp"><span class="annot"><span class="annottext">makeApp :: HandlersContext alg ms core -&gt; App (Sem core)
</span><a href="Tendermint.SDK.Application.Handlers.html#makeApp"><span class="hs-identifier hs-var hs-var">makeApp</span></a></span></span><span> </span><span id="local-6989586621679578174"><span class="annot"><span class="annottext">handlersContext :: HandlersContext alg ms core
</span><a href="#local-6989586621679578174"><span class="hs-identifier hs-var">handlersContext</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#HandlersContext"><span class="hs-identifier hs-type">HandlersContext</span></a></span><span class="hs-special">{</span><span id="local-6989586621679578173"><span class="annot"><span class="annottext">forall a. Sem (BaseAppEffs core) a -&gt; Sem core a
compileToCore :: forall a. Sem (BaseAppEffs core) a -&gt; Sem core a
compileToCore :: forall k (alg :: k) (ms :: [Component]) (core :: EffectRow).
HandlersContext alg ms core
-&gt; forall a. Sem (BaseAppEffs core) a -&gt; Sem core a
</span><a href="#local-6989586621679578173"><span class="hs-identifier hs-var hs-var">compileToCore</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679578164"><span id="local-6989586621679578165"><span id="local-6989586621679578166"><span id="local-6989586621679578167"><span id="local-6989586621679578168"><span id="local-6989586621679578169"><span id="local-6989586621679578170"><span id="local-6989586621679578171"><span id="local-6989586621679578172"><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handlers"><span class="hs-identifier hs-type">Handlers</span></a></span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HandlersContext alg ms core -&gt; Handlers (BaseAppEffs core)
forall k (alg :: k) (ms :: [Component]) (core :: EffectRow).
(RecoverableSignatureSchema alg, Message alg ~ Digest SHA256,
 Member (Embed IO) core, ToApplication ms (Effs ms core),
 HasTxRouter (ApplicationC ms) (Effs ms core) 'QueryAndMempool,
 HasTxRouter (ApplicationC ms) (BaseAppEffs core) 'QueryAndMempool,
 HasTxRouter (ApplicationD ms) (Effs ms core) 'Consensus,
 HasTxRouter (ApplicationD ms) (BaseAppEffs core) 'Consensus,
 HasQueryRouter (ApplicationQ ms) (Effs ms core),
 HasQueryRouter (ApplicationQ ms) (BaseAppEffs core),
 Eval ms core) =&gt;
HandlersContext alg ms core -&gt; Handlers (BaseAppEffs core)
</span><a href="Tendermint.SDK.Application.Handlers.html#makeHandlers"><span class="hs-identifier hs-var">makeHandlers</span></a></span><span> </span><span class="annot"><span class="annottext">HandlersContext alg ms core
</span><a href="#local-6989586621679578174"><span class="hs-identifier hs-var">handlersContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Tendermint.SDK.Application.Handlers.html#Handlers"><span class="hs-identifier hs-type">Handlers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Tendermint.SDK.BaseApp.Effects.html#BaseAppEffs"><span class="hs-identifier hs-type">BA.BaseAppEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679578175"><span class="hs-identifier hs-type">core</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(forall (t :: MessageType).
 Sem
   (Tagged 'Consensus ReadStore
      : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
      : Transaction : CommitBlock : Metrics : Logger : Resource
      : Error AppError : core)
   (Response t)
 -&gt; Sem core (Response t))
-&gt; App
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
-&gt; App (Sem core)
forall (m :: * -&gt; *) (g :: * -&gt; *).
(forall (t :: MessageType). m (Response t) -&gt; g (Response t))
-&gt; App m -&gt; App g
</span><span class="hs-identifier hs-var">transformApp</span></span><span> </span><span class="annot"><span class="annottext">forall a. Sem (BaseAppEffs core) a -&gt; Sem core a
forall (t :: MessageType).
Sem
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
  (Response t)
-&gt; Sem core (Response t)
</span><a href="#local-6989586621679578173"><span class="hs-identifier hs-var">compileToCore</span></a></span><span> </span><span class="annot"><span class="annottext">(App
   (Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core))
 -&gt; App (Sem core))
-&gt; App
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
-&gt; App (Sem core)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (t :: MessageType).
 Request t
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response t))
-&gt; App
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
forall (m :: * -&gt; *).
(forall (t :: MessageType). Request t -&gt; m (Response t)) -&gt; App m
</span><span class="hs-identifier hs-var">App</span></span><span> </span><span class="annot"><span class="annottext">((forall (t :: MessageType).
  Request t
  -&gt; Sem
       (Tagged 'Consensus ReadStore
          : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
          : Transaction : CommitBlock : Metrics : Logger : Resource
          : Error AppError : core)
       (Response t))
 -&gt; App
      (Sem
         (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core)))
-&gt; (forall (t :: MessageType).
    Request t
    -&gt; Sem
         (Tagged 'Consensus ReadStore
            : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
            : Transaction : CommitBlock : Metrics : Logger : Resource
            : Error AppError : core)
         (Response t))
-&gt; App
     (Sem
        (Tagged 'Consensus ReadStore
           : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
           : Transaction : CommitBlock : Metrics : Logger : Resource
           : Error AppError : core))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-225"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">RequestEcho</span></span><span> </span><span id="local-6989586621679578161"><span class="annot"><span class="annottext">echo :: Echo
</span><a href="#local-6989586621679578161"><span class="hs-identifier hs-var">echo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-226"></span><span>         </span><span class="annot"><span class="annottext">Response 'MTEcho
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEcho)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Response 'MTEcho
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response 'MTEcho))
-&gt; (Echo -&gt; Response 'MTEcho)
-&gt; Echo
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response 'MTEcho)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Echo -&gt; Response 'MTEcho
</span><span class="hs-identifier hs-var">ResponseEcho</span></span><span> </span><span class="annot"><span class="annottext">(Echo
 -&gt; Sem
      (Tagged 'Consensus ReadStore
         : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
         : Transaction : CommitBlock : Metrics : Logger : Resource
         : Error AppError : core)
      (Response t))
-&gt; Echo
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Echo
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span>
</span><span id="line-227"></span><span>           </span><span class="annot"><span class="annottext">Echo -&gt; (Echo -&gt; Echo) -&gt; Echo
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Identity Text) -&gt; Echo -&gt; Identity Echo
Iso' Echo Text
</span><span class="hs-identifier hs-var">Resp._echoMessage</span></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; Identity Text) -&gt; Echo -&gt; Identity Echo)
-&gt; Text -&gt; Echo -&gt; Echo
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Echo
</span><a href="#local-6989586621679578161"><span class="hs-identifier hs-var">echo</span></a></span><span> </span><span class="annot"><span class="annottext">Echo -&gt; Getting Text Echo Text -&gt; Text
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Text Echo Text
Iso' Echo Text
</span><span class="hs-identifier hs-var">Req._echoMessage</span></span><span>
</span><span id="line-228"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">RequestFlush</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Response t
-&gt; Sem
     (Tagged 'Consensus ReadStore
        : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
        : Transaction : CommitBlock : Metrics : Logger : Resource
        : Error AppError : core)
     (Response t)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Response t
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span>
</span><span id="line-229"></span><span>       </span><span id="local-6989586621679578156"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578156"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestInfo</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler
  'MTInfo
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578172"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTInfo
</span><a href="#local-6989586621679578156"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-230"></span><span>       </span><span id="local-6989586621679578154"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578154"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestSetOption</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler
  'MTSetOption
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578171"><span class="hs-identifier hs-var">setOption</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTSetOption
</span><a href="#local-6989586621679578154"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-231"></span><span>       </span><span id="local-6989586621679578152"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578152"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestInitChain</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler
  'MTInitChain
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578170"><span class="hs-identifier hs-var">initChain</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTInitChain
</span><a href="#local-6989586621679578152"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-232"></span><span>       </span><span id="local-6989586621679578150"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578150"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestQuery</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler
  'MTQuery
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578169"><span class="hs-identifier hs-var">query</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTQuery
</span><a href="#local-6989586621679578150"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-233"></span><span>       </span><span id="local-6989586621679578149"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578149"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestBeginBlock</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler
  'MTBeginBlock
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578167"><span class="hs-identifier hs-var">beginBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTBeginBlock
</span><a href="#local-6989586621679578149"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-234"></span><span>       </span><span id="local-6989586621679578148"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578148"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestCheckTx</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="annottext">Handler
  'MTCheckTx
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578168"><span class="hs-identifier hs-var">checkTx</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTCheckTx
</span><a href="#local-6989586621679578148"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-235"></span><span>       </span><span id="local-6989586621679578147"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578147"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestDeliverTx</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler
  'MTDeliverTx
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578166"><span class="hs-identifier hs-var">deliverTx</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTDeliverTx
</span><a href="#local-6989586621679578147"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-236"></span><span>       </span><span id="local-6989586621679578146"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578146"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestEndBlock</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler
  'MTEndBlock
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578165"><span class="hs-identifier hs-var">endBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTEndBlock
</span><a href="#local-6989586621679578146"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-237"></span><span>       </span><span id="local-6989586621679578145"><span class="annot"><span class="annottext">msg :: Request t
</span><a href="#local-6989586621679578145"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RequestCommit</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler
  'MTCommit
  (Tagged 'Consensus ReadStore
     : Tagged 'QueryAndMempool ReadStore : Tagged 'Consensus WriteStore
     : Transaction : CommitBlock : Metrics : Logger : Resource
     : Error AppError : core)
</span><a href="#local-6989586621679578164"><span class="hs-identifier hs-var">commit</span></a></span><span> </span><span class="annot"><span class="annottext">Request t
Request 'MTCommit
</span><a href="#local-6989586621679578145"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-238"></span></pre></body></html>